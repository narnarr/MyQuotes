<!doctype html>
<html lang="en">
    <head>

        <title>Sign up</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <!-- 쿠키 사용을 위한 Jquery-cookie 임포트 -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
        <!--Material Design-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        <!--Google Fonts-->
        <link href="https://fonts.googleapis.com/css2?family=Acme&family=Lobster+Two:ital,wght@1,700&family=Amatic+SC:wght@700&display=swap"
              rel="stylesheet">

        <script>
            // 간단한 회원가입 함수입니다.
            // 아이디, 비밀번호, 닉네임을 받아 DB에 저장합니다.
            function register() {
                $.ajax({
                    type: "POST",
                    url: "/api/register",
                    data: {id_give: $('#user_id').val(), pw_give: $('#user_pw').val()},
                    success: function (response) {
                        if (response['result'] == 'success') {
                            alert(response['msg'])
                            window.location.href = '/login'
                        } else {
                            alert(response['msg'])
                            $('#user_id').focus();
                        }
                    }
                })
            }

        </script>
        <style>
            .mdl-layout {
                background: url('https://www.tideandbloom.com/wp-content/uploads/2014/02/her-movie-screenshot-joaquin-phoenix-21.jpg') center / cover;
            }

            * {
                font-family: 'Amatic SC', cursive;
            }

            .logo {
                height: 40px;
                width: 155px;
                object-fit: scale-down;
            }

            .mdl-layout-title {
                font-family: 'Acme', sans-serif;
                font-size: 35px;
            }

            .main-page {
                display: flex;
                justify-content: center;
                margin-top: 150px;
            }

            .register-box {
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                width: 400px;
                height: 340px;
                background-color: rgba(255, 255, 255, 0.7);
                border-radius: 3px;
            }

            .mdl-textfield__label, .mdl-button {
                color: #5e849a;
            }

            .register_title {
                font-family: 'Amatic SC', cursive;
            }

            .mdl-navigation__link:hover {
                text-decoration: underline;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="demo-layout-transparent mdl-layout mdl-js-layout">
            <header class="mdl-layout__header mdl-layout__header--transparent">
                <div class="mdl-layout__header-row">
                    <!-- Title -->
                    <div class="logo">
                        <a href="/" class="mdl-layout-title" id="logo">
                            <img class="logo" src="{{ url_for('static', filename='myquotes-logo.png') }}"/>
                        </a>
                    </div>
                    <!-- Add spacer, to align navigation to the right -->
                    <div class="mdl-layout-spacer"></div>
                    <!-- Navigation -->
                    <nav class="mdl-navigation">
                        <a class="mdl-navigation__link" id="nickname" href="window.location.href='/myPage'"></a>
                        <a class="mdl-navigation__link" id="loginout" href="/login">login</a>
                        <a class="mdl-navigation__link" href="https://www.imdb.com/" target="_blank">IMDb</a>
                        <a class="mdl-navigation__link" href="https://pedia.watcha.com/" target="_blank">Watchapedia</a>
                    </nav>
                </div>
            </header>
            <div class="mdl-layout__drawer">
                <span class="mdl-layout-title hard">MyQuotes</span>
            </div>
            <main class="mdl-layout__content">
                <div class="main-page">
                    <div class="register-box">
                        <h3 class="register_title">Sign up</h3>
                        <!-- Floating Multiline Textfield -->
                        <!-- Textfield with Floating Label -->
                        <form action="#">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" id="user_id">
                                <label class="mdl-textfield__label" for="user_id">ID</label>
                            </div>
                        </form>
                        <form action="#">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="password" id="user_pw">
                                <label class="mdl-textfield__label" for="user_pw">password</label>
                            </div>
                        </form>
                        <!-- Flat button with ripple -->
                        <button onclick="register()" class="mdl-button mdl-js-button mdl-js-ripple-effect">
                            Sign up
                        </button>
                    </div>
                </div>
            </main>
        </div>
    </body>
</html>